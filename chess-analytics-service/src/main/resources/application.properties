spring.application.name=chess-analytics-service
server.port=${ANALYTICS_SERVICE_PORT:8086}

# Datasource (PostgreSQL)
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/chess_analytics}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:postgres}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.default_schema=chess_analytics

# Flyway (use when not H2 - Postgres)
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.schemas=chess_analytics

# H2 does not support CREATE SCHEMA in same way; for local dev use H2 with schema created by Flyway
# For Postgres, Flyway creates schema in V1

nats.url=${NATS_URL:nats://localhost:4222}
nats.connection-name=analytics-service
nats.enabled=${NATS_ENABLED:true}

# ProcessedEventStore: redis (shared when scaled) or in-memory for single instance
analytics.processed-event-store.type=${ANALYTICS_PROCESSED_EVENT_STORE_TYPE:redis}
# When using redis, our RedisProcessedEventStoreConfig creates the connection; exclude auto-config to allow inmemory when no Redis
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration
spring.data.redis.host=${SPRING_DATA_REDIS_HOST:localhost}
spring.data.redis.port=${SPRING_DATA_REDIS_PORT:6379}

jwt.secret=${JWT_SECRET:dev-secret-change-me-please-dev-secret-change-me-please}
